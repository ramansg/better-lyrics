<html lang="en-US" style="width: unset; max-width: unset">
	<head>
		<meta name="color-scheme" content="dark" />
		<meta http-equiv="Content-Security-Policy" content="
			default-src 'self';
			script-src 'self';
			style-src 'self' 'unsafe-inline' https://api.fontshare.com;
			font-src https://cdn.fontshare.com;
			img-src 'self' https://raw.githubusercontent.com https://placehold.co data:;
			connect-src https://raw.githubusercontent.com https://api.github.com https://better-lyrics-themes-api.boidu.dev;
			frame-src https://better-lyrics-themes-api.boidu.dev;
		" />
		<title>Better Lyrics Theme Marketplace</title>
		<link
			href="https://api.fontshare.com/v2/css?f[]=satoshi@1&display=swap"
			rel="stylesheet"
		/>
		<link rel="stylesheet" href="../src/options/options.css" />
		<link rel="stylesheet" href="../src/options/store/store.css" />
	</head>
	<body class="marketplace-standalone">
		<div class="marketplace-page">
			<header class="marketplace-header">
				<div class="marketplace-header-left">
					<h1 class="marketplace-title">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
							<path d="M 512 256 C 512 397.385 397.385 512 256 512 C 114.615 512 0 397.385 0 256 C 0 114.615 114.615 0 256 0 C 397.385 0 512 114.615 512 256 Z M 216.877 101.494 C 129.312 123.247 77.337 215.006 103.18 301.61 C 121.687 363.631 176.581 409.295 240.38 414.757 C 287.712 418.809 329.728 405.453 364.631 372.705 C 402.973 336.73 419.903 291.754 414.474 239.817 C 408.507 182.738 378.509 140.758 327.553 113.442 C 291.849 96.169 254.947 92.037 216.877 101.494 Z M 111.49 258.009 C 111.657 203.346 135.045 160.293 181.947 132.029 C 257.535 86.476 354.347 118.494 389.27 199.487 C 425.321 283.1 374.187 380.741 284.761 397.772 C 230.539 408.099 184.56 391.825 147.1 351.356 C 123.778 324.1 111.384 293.035 111.49 258.009 Z M 275.782 205.816 C 285.751 205.816 295.066 205.859 304.381 205.802 C 312.272 205.755 316.316 201.706 316.432 193.751 C 316.512 188.253 316.544 182.75 316.422 177.253 C 316.252 169.635 312.169 165.693 304.507 165.667 C 292.342 165.626 280.176 165.637 268.011 165.66 C 259.036 165.678 255.746 169.021 255.743 178.109 C 255.734 207.273 255.743 236.436 255.729 265.6 C 255.729 267.311 255.584 269.021 255.493 271.034 C 252.926 269.96 250.993 269 248.965 268.328 C 234.723 263.608 221.596 265.768 210.09 275.438 C 198.291 285.355 193.507 298.277 196.25 313.409 C 200.094 334.613 218.73 348.223 240.237 346.153 C 260.242 344.228 275.646 326.851 275.757 305.878 C 275.856 287.047 275.781 268.215 275.782 248.883 C 275.782 234.286 275.782 220.188 275.782 205.816 Z" fill="rgb(242, 12, 50)"/>
							<path d="M 216.877 101.494 C 129.312 123.247 77.337 215.006 103.18 301.61 C 121.687 363.631 176.581 409.295 240.38 414.757 C 287.712 418.809 329.728 405.453 364.631 372.705 C 402.973 336.73 419.903 291.754 414.474 239.817 C 408.507 182.738 378.509 140.758 327.553 113.442 C 291.849 96.169 254.947 92.037 216.877 101.494 Z M 111.49 258.009 C 111.657 203.346 135.045 160.293 181.947 132.029 C 257.535 86.476 354.347 118.494 389.27 199.487 C 425.321 283.1 374.187 380.741 284.761 397.772 C 230.539 408.099 184.56 391.825 147.1 351.356 C 123.778 324.1 111.384 293.035 111.49 258.009 Z M 275.782 205.816 C 285.751 205.816 295.066 205.859 304.381 205.802 C 312.272 205.755 316.316 201.706 316.432 193.751 C 316.512 188.253 316.544 182.75 316.422 177.253 C 316.252 169.635 312.169 165.693 304.507 165.667 C 292.342 165.626 280.176 165.637 268.011 165.66 C 259.036 165.678 255.746 169.021 255.743 178.109 C 255.734 207.273 255.743 236.436 255.729 265.6 C 255.729 267.311 255.584 269.021 255.493 271.034 C 252.926 269.96 250.993 269 248.965 268.328 C 234.723 263.608 221.596 265.768 210.09 275.438 C 198.291 285.355 193.507 298.277 196.25 313.409 C 200.094 334.613 218.73 348.223 240.237 346.153 C 260.242 344.228 275.646 326.851 275.757 305.878 C 275.856 287.047 275.781 268.215 275.782 248.883 C 275.782 234.286 275.782 220.188 275.782 205.816 Z" fill="#fff" />
						</svg>
						Theme Marketplace
					</h1>
					<p class="marketplace-subtitle">Discover and install community themes</p>
				</div>
				<div class="marketplace-header-right">
					<div class="store-search-container">
						<svg class="store-search-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
							<path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 1 0 0 11 5.5 5.5 0 0 0 0-11ZM2 9a7 7 0 1 1 12.452 4.391l3.328 3.329a.75.75 0 1 1-1.06 1.06l-3.329-3.328A7 7 0 0 1 2 9Z" clip-rule="evenodd" />
						</svg>
						<input type="text" id="store-search-input" class="store-search-input" placeholder="Search themes..." />
						<div class="search-shortcut-hint">
							<kbd>/</kbd>
						</div>
					</div>
					<button id="store-refresh-btn" class="store-refresh-btn" title="Refresh (R)">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
							<path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 0 1-9.201 2.466l-.312-.311h2.433a.75.75 0 0 0 0-1.5H3.989a.75.75 0 0 0-.75.75v4.242a.75.75 0 0 0 1.5 0v-2.43l.31.31a7 7 0 0 0 11.712-3.138.75.75 0 0 0-1.449-.39Zm1.23-3.723a.75.75 0 0 0 .219-.53V2.929a.75.75 0 0 0-1.5 0v2.43l-.31-.31A7 7 0 0 0 3.239 8.188a.75.75 0 1 0 1.448.389A5.5 5.5 0 0 1 13.89 6.11l.311.31h-2.432a.75.75 0 0 0 0 1.5h4.243a.75.75 0 0 0 .53-.219Z" clip-rule="evenodd" />
						</svg>
					</button>
					<button id="shortcuts-btn" class="store-refresh-btn" title="Keyboard shortcuts (?)">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" fill="currentColor">
							<path d="M232 128c0 12.5-17.8 22-22.7 33.7s1.4 30.6-7.8 39.8s-28.5 3.1-39.8 7.8S140.5 232 128 232s-22-17.8-33.7-22.7s-30.6 1.4-39.8-7.8s-3.1-28.5-7.8-39.8S24 140.5 24 128s17.8-22 22.7-33.7s-1.4-30.6 7.8-39.8s28.5-3.1 39.8-7.8S115.5 24 128 24s22 17.8 33.7 22.7s30.6-1.4 39.8 7.8s3.1 28.5 7.8 39.8S232 115.5 232 128Z" opacity=".1"/>
							<path d="M225.9 102.8c-3.8-3.9-7.7-8-9.2-11.5s-1.4-8.7-1.5-14c-.1-9.7-.3-20.8-8-28.5s-18.8-7.9-28.5-8c-5.3-.1-10.7-.2-14-1.5s-7.6-5.4-11.5-9.2C146.3 23.5 138.4 16 128 16s-18.3 7.5-25.2 14.1c-3.9 3.8-8 7.7-11.5 9.2s-8.7 1.4-14 1.5c-9.7.1-20.8.3-28.5 8s-7.9 18.8-8 28.5c-.1 5.3-.2 10.7-1.5 14s-5.4 7.6-9.2 11.5C23.5 109.7 16 117.6 16 128s7.5 18.3 14.1 25.2c3.8 3.9 7.7 8 9.2 11.5s1.4 8.7 1.5 14c.1 9.7.3 20.8 8 28.5s18.8 7.9 28.5 8c5.3.1 10.7.2 14 1.5s7.6 5.4 11.5 9.2c6.9 6.6 14.8 14.1 25.2 14.1s18.3-7.5 25.2-14.1c3.9-3.8 8-7.7 11.5-9.2s8.7-1.4 14-1.5c9.7-.1 20.8-.3 28.5-8s7.9-18.8 8-28.5c.1-5.3.2-10.7 1.5-14s5.4-7.6 9.2-11.5c6.6-6.9 14.1-14.8 14.1-25.2s-7.5-18.3-14.1-25.2Zm-11.6 39.3c-4.8 5-9.7 10.2-12.4 16.5s-2.6 13.1-2.7 19.8s-.2 14.4-3.3 17.5s-10.4 3.2-17.5 3.3s-13.7.2-19.8 2.7s-11.5 7.6-16.5 12.4S132 224 128 224s-9.1-4.9-14.1-9.7s-10.2-9.7-16.5-12.4s-13.1-2.6-19.8-2.7s-14.4-.2-17.5-3.3s-3.2-10.4-3.3-17.5s-.2-13.7-2.7-19.8s-7.6-11.5-12.4-16.5S32 132 32 128s4.9-9.1 9.7-14.1s9.7-10.2 12.4-16.5s2.6-13.1 2.7-19.8s.2-14.4 3.3-17.5s10.4-3.2 17.5-3.3s13.7-.2 19.8-2.7s11.5-7.6 16.5-12.4S124 32 128 32s9.1 4.9 14.1 9.7s10.2 9.7 16.5 12.4s13.1 2.6 19.8 2.7s14.4.2 17.5 3.3s3.2 10.4 3.3 17.5s.2 13.7 2.7 19.8s7.6 11.5 12.4 16.5S224 124 224 128s-4.9 9.1-9.7 14.1ZM140 180a12 12 0 1 1-12-12a12 12 0 0 1 12 12Zm24-72a36 36 0 0 1-28 35.1v.9a8 8 0 0 1-16 0v-8a8 8 0 0 1 8-8a20 20 0 1 0-20-20a8 8 0 0 1-16 0a36 36 0 0 1 72 0Z"/>
						</svg>
					</button>
				</div>
			</header>

			<div class="marketplace-filters">
				<div class="marketplace-filter-group">
					<span class="marketplace-filter-label">Sort by</span>
					<div class="marketplace-filter-options" role="group" aria-label="Sort options">
						<label class="marketplace-filter-chip marketplace-filter-chip--sort" data-label-desc="Highest rated" data-label-asc="Lowest rated">
							<input type="radio" name="store-filter-sort" value="rating" checked>
							<span class="marketplace-filter-chip__icon" aria-hidden="true"></span>
							<span class="marketplace-filter-chip__label">Highest rated</span>
							<kbd>1</kbd>
						</label>
						<label class="marketplace-filter-chip marketplace-filter-chip--sort" data-label-desc="Most downloaded" data-label-asc="Least downloaded">
							<input type="radio" name="store-filter-sort" value="downloads">
							<span class="marketplace-filter-chip__icon" aria-hidden="true"></span>
							<span class="marketplace-filter-chip__label">Most downloaded</span>
							<kbd>2</kbd>
						</label>
						<label class="marketplace-filter-chip marketplace-filter-chip--sort" data-label-desc="Newest" data-label-asc="Oldest">
							<input type="radio" name="store-filter-sort" value="newest">
							<span class="marketplace-filter-chip__icon" aria-hidden="true"></span>
							<span class="marketplace-filter-chip__label">Newest</span>
							<kbd>3</kbd>
						</label>
					</div>
				</div>
				<div class="marketplace-filter-group">
					<span class="marketplace-filter-label">Show</span>
					<div class="marketplace-filter-options">
						<label class="marketplace-filter-chip">
							<input type="radio" name="store-filter-show" value="all" checked>
							<span>All</span>
							<kbd>A</kbd>
						</label>
						<label class="marketplace-filter-chip">
							<input type="radio" name="store-filter-show" value="installed">
							<span>Installed</span>
							<kbd>I</kbd>
						</label>
						<label class="marketplace-filter-chip">
							<input type="radio" name="store-filter-show" value="not-installed">
							<span>Not installed</span>
							<kbd>N</kbd>
						</label>
					</div>
				</div>
				<div class="marketplace-filter-group">
					<span class="marketplace-filter-label">Options</span>
					<div class="marketplace-filter-options">
						<label class="marketplace-filter-chip">
							<input type="checkbox" id="store-filter-shaders">
							<span>Has shaders</span>
							<kbd>S</kbd>
						</label>
						<label class="marketplace-filter-chip">
							<input type="checkbox" id="store-filter-compatible" checked>
							<span>Compatible only</span>
							<kbd>C</kbd>
						</label>
					</div>
				</div>
				<div class="marketplace-btn-group">
					<button id="url-install-btn" class="marketplace-url-btn" title="Install from URL (U)">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
							<path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"/>
							<path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"/>
						</svg>
						Install from URL
						<kbd>U</kbd>
					</button>
					<a href="https://github.com/better-lyrics/themes/" target="_blank" rel="noopener noreferrer" class="marketplace-submit-link">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
							<path d="m12 2l.117.007a1 1 0 0 1 .876.876L13 3v4l.005.15a2 2 0 0 0 1.838 1.844L15 9h4l.117.007a1 1 0 0 1 .876.876L20 10v9a3 3 0 0 1-2.824 2.995L17 22H7a3 3 0 0 1-2.995-2.824L4 19V5a3 3 0 0 1 2.824-2.995L7 2zm0 9l-.09.004l-.058.007l-.118.025l-.105.035l-.113.054l-.111.071a1 1 0 0 0-.112.097l-2.5 2.5a1 1 0 0 0 0 1.414l.094.083a1 1 0 0 0 1.32-.083l.793-.793V18a1 1 0 0 0 2 0v-3.585l.793.792a1 1 0 0 0 1.414-1.414l-2.5-2.5l-.082-.073l-.104-.074l-.098-.052l-.11-.044l-.112-.03l-.126-.017z"/>
							<path d="M19 7h-4l-.001-4.001z"/>
						</svg>
						Submit a theme
					</a>
				</div>
			</div>

			<main class="marketplace-content">
				<div id="store-loading" class="store-loading">
					<div class="store-loading-spinner"></div>
					<span>Loading themes...</span>
				</div>
				<div id="store-error" class="store-error">
					<span class="store-error-message"></span>
					<button id="store-retry-btn" class="store-card-btn store-card-btn-install">Retry</button>
				</div>
				<div id="store-permission" class="store-permission">
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="store-permission-icon">
						<path fill-rule="evenodd" d="M12 1.5a5.25 5.25 0 0 0-5.25 5.25v3a3 3 0 0 0-3 3v6.75a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3v-6.75a3 3 0 0 0-3-3v-3c0-2.9-2.35-5.25-5.25-5.25Zm3.75 8.25v-3a3.75 3.75 0 1 0-7.5 0v3h7.5Z" clip-rule="evenodd" />
					</svg>
					<h3 class="store-permission-title">Permission Required</h3>
					<p class="store-permission-message">To browse and install themes, Better Lyrics needs permission to access GitHub where themes are hosted & the marketplace api.</p>
					<button id="store-permission-btn" class="store-card-btn store-card-btn-install">Grant Permission</button>
				</div>
				<div id="store-modal-grid" class="marketplace-grid"></div>
				<div id="marketplace-pagination" class="marketplace-pagination" style="display: none;">
					<button id="pagination-prev" class="marketplace-pagination-btn" aria-label="Previous page">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
							<path fill-rule="evenodd" d="M11.78 5.22a.75.75 0 0 1 0 1.06L8.06 10l3.72 3.72a.75.75 0 1 1-1.06 1.06l-4.25-4.25a.75.75 0 0 1 0-1.06l4.25-4.25a.75.75 0 0 1 1.06 0Z" clip-rule="evenodd" />
						</svg>
					</button>
					<div id="pagination-numbers" class="marketplace-pagination-numbers"></div>
					<button id="pagination-next" class="marketplace-pagination-btn" aria-label="Next page">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
							<path fill-rule="evenodd" d="M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd" />
						</svg>
					</button>
				</div>
			</main>

		</div>

		<!-- Detail Modal -->
		<div id="detail-modal-overlay" class="modal-overlay">
			<div class="modal detail-modal">
				<div class="modal-header">
					<div class="detail-header-info">
						<h3 id="detail-title"></h3>
						<p id="detail-author"></p>
					</div>
					<div class="detail-header-actions">
						<button id="detail-action-btn" class="store-card-btn store-card-btn-install">Install</button>
						<button id="detail-modal-close" class="modal-close-btn" aria-label="Close">
							<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
								<path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
							</svg>
						</button>
					</div>
				</div>
				<div class="detail-modal-body">
					<div class="detail-slideshow">
						<div id="detail-slideshow-container" class="detail-slideshow-container"></div>
						<button id="detail-prev-btn" class="detail-nav-btn" aria-label="Previous">
							<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
								<path fill-rule="evenodd" d="M11.78 5.22a.75.75 0 0 1 0 1.06L8.06 10l3.72 3.72a.75.75 0 1 1-1.06 1.06l-4.25-4.25a.75.75 0 0 1 0-1.06l4.25-4.25a.75.75 0 0 1 1.06 0Z" clip-rule="evenodd" />
							</svg>
						</button>
						<button id="detail-next-btn" class="detail-nav-btn" aria-label="Next">
							<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
								<path fill-rule="evenodd" d="M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd" />
							</svg>
						</button>
						<div id="detail-dots" class="detail-dots"></div>
					</div>
					<div class="detail-info">
						<div id="detail-shader-info" class="detail-shader-info">
							<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
								<path fill-rule="evenodd" d="M8 2.25A6.75 6.75 0 0 0 1.25 9v6A6.75 6.75 0 0 0 8 21.75h8A6.75 6.75 0 0 0 22.75 15V9A6.75 6.75 0 0 0 16 2.25zm-2 6a.75.75 0 0 0-.75.75v6a.75.75 0 0 0 1.5 0v-2.25h2.821a.75.75 0 0 0 0-1.5H6.75v-1.5H11a.75.75 0 0 0 0-1.5zm7.576.27a.75.75 0 1 0-1.152.96l2.1 2.52l-2.1 2.52a.75.75 0 1 0 1.152.96l1.924-2.308l1.924 2.308a.75.75 0 1 0 1.152-.96l-2.1-2.52l2.1-2.52a.75.75 0 1 0-1.152-.96L15.5 10.829z" clip-rule="evenodd"/>
							</svg>
							<span class="detail-shader-info-text">
								This theme includes a shader config. <a id="detail-shader-download" href="#" class="detail-shader-link">Download shader.json</a> and import it in <a href="https://chromewebstore.google.com/detail/better-lyrics-shaders/mffpncjphfmkppebdoaehdlnagnlpfai" target="_blank" class="detail-shader-link">Better Lyrics Shaders</a>.
							</span>
						</div>
						<p id="detail-description"></p>
						<div id="detail-rating-section" class="detail-rating-section">
							<div class="detail-rating-header">
								<span class="detail-rating-label">Rate this theme</span>
								<div id="detail-stats" class="detail-stats"></div>
							</div>
							<div class="detail-rating-row">
								<div id="detail-rating-stars" class="detail-rating-stars">
									<button class="detail-star" data-rating="1"></button>
									<button class="detail-star" data-rating="2"></button>
									<button class="detail-star" data-rating="3"></button>
									<button class="detail-star" data-rating="4"></button>
									<button class="detail-star" data-rating="5"></button>
								</div>
								<span id="detail-rating-status" class="detail-rating-status"></span>
							</div>
						</div>
						<div id="detail-repo-link" class="detail-repo-link">
							<div class="detail-repo-link-left">
								<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
									<path fill-rule="evenodd" clip-rule="evenodd" d="M12.026 2c-5.509 0-9.974 4.465-9.974 9.974 0 4.406 2.857 8.145 6.821 9.465.499.09.679-.217.679-.481 0-.237-.008-.865-.011-1.696-2.775.602-3.361-1.338-3.361-1.338-.452-1.152-1.107-1.459-1.107-1.459-.905-.619.069-.605.069-.605 1.002.07 1.527 1.028 1.527 1.028.89 1.524 2.336 1.084 2.902.829.091-.645.351-1.085.635-1.334-2.214-.251-4.542-1.107-4.542-4.93 0-1.087.389-1.979 1.024-2.675-.101-.253-.446-1.268.099-2.64 0 0 .837-.269 2.742 1.021a9.582 9.582 0 0 1 2.496-.336 9.554 9.554 0 0 1 2.496.336c1.906-1.291 2.742-1.021 2.742-1.021.545 1.372.203 2.387.099 2.64.64.696 1.024 1.587 1.024 2.675 0 3.833-2.33 4.675-4.552 4.922.355.308.675.916.675 1.846 0 1.334-.012 2.41-.012 2.737 0 .267.178.577.687.479C19.146 20.115 22 16.379 22 11.974 22 6.465 17.535 2 12.026 2z"/>
								</svg>
								<a id="detail-repo-anchor" href="#" target="_blank">View on GitHub</a>
							</div>
							<a id="detail-rics-badge" class="detail-rics-badge" href="https://github.com/better-lyrics/rics" target="_blank" title="This theme uses RICS">
								<svg viewBox="0 0 1024 1024" fill="none" xmlns="http://www.w3.org/2000/svg">
									<g clip-path="url(#rics-clip)">
										<path d="M512 0C753.359 0 874.039 -0.000198364 949.02 74.9805C1024 149.961 1024 270.641 1024 512C1024 753.359 1024 874.039 949.02 949.02C874.039 1024 753.359 1024 512 1024C270.641 1024 149.961 1024 74.9805 949.02C18.4008 892.44 4.51695 809.839 1.10938 669H166.184V627.784H97.1924V553.864C97.1924 536.84 101.971 522.205 111.528 509.96C121.086 497.715 134.675 491.592 152.296 491.592H200.68V441.416H166.184C145.277 441.416 129.299 445.747 118.248 454.408C107.496 462.771 100.478 475.315 97.1924 492.04H94.9521V486.664C94.9521 474.12 91.0691 464.413 83.3037 457.544C75.5384 450.376 65.5333 446.792 53.2881 446.792H0.0634766C0.668918 248.257 7.08006 142.881 74.9805 74.9805C149.961 -0.000198364 270.641 0 512 0ZM546.186 441.416C525.578 441.416 507.21 446.344 491.082 456.2C474.954 465.757 462.111 479.197 452.554 496.52C443.295 513.842 438.666 534.301 438.666 557.896C438.666 581.49 443.295 602.098 452.554 619.72C461.812 637.042 474.506 650.483 490.634 660.04C507.06 669.597 525.578 674.376 546.186 674.376C573.663 674.376 596.063 667.208 613.386 652.872C630.708 638.536 642.357 619.123 648.33 594.632H598.602C595.018 605.682 588.896 614.344 580.234 620.616C571.573 626.888 560.074 630.024 545.738 630.024C535.584 630.024 525.877 627.336 516.618 621.96C507.658 616.285 500.341 608.072 494.666 597.32C489.29 586.568 486.602 573.426 486.602 557.896C486.602 542.066 489.29 528.925 494.666 518.472C500.341 507.72 507.658 499.656 516.618 494.28C525.877 488.904 535.584 486.216 545.738 486.216C559.775 486.216 571.274 489.352 580.234 495.624C589.493 501.896 595.615 510.408 598.602 521.16H648.33C643.551 496.371 632.352 476.957 614.73 462.92C597.408 448.584 574.559 441.416 546.186 441.416ZM764.187 441.416C737.008 441.416 715.803 447.389 700.571 459.336C685.339 471.283 677.723 486.963 677.723 506.376C677.723 520.115 681.307 531.613 688.475 540.872C695.643 549.832 705.349 557 717.595 562.376C730.139 567.453 744.027 570.888 759.259 572.68C776.88 574.77 790.171 577.907 799.131 582.088C808.389 586.269 813.018 594.035 813.019 605.384C813.019 613.149 809.136 620.019 801.371 625.992C793.904 631.667 783.152 634.504 769.115 634.504C754.481 634.504 742.683 631.219 733.723 624.648C725.061 618.078 719.835 609.566 718.043 599.112H669.211C671.6 621.811 681.457 640.029 698.779 653.768C716.102 667.506 739.398 674.376 768.667 674.376C787.184 674.376 803.312 671.24 817.051 664.968C831.088 658.696 841.99 650.184 849.755 639.432C857.819 628.68 861.702 616.583 861.403 603.144C861.403 586.717 857.67 574.024 850.203 565.064C842.737 555.806 832.582 549.086 819.739 544.904C806.897 540.424 792.262 537.288 775.835 535.496C741.19 531.912 723.867 522.056 723.867 505.928C723.867 498.461 727.451 492.488 734.619 488.008C741.787 483.229 751.494 480.84 763.739 480.84C775.686 480.84 785.691 483.528 793.755 488.904C801.819 493.982 806.448 501 807.643 509.96H853.339C850.95 488.755 842.289 472.029 827.355 459.784C812.422 447.539 791.365 441.416 764.187 441.416ZM0.400391 627.784C0.56225 642.053 0.789595 655.783 1.10938 669H-4.50391V627.784H0.400391ZM231.865 446.792V488.008H281.145C290.702 488.008 295.481 492.936 295.481 502.792V627.784H225.593V669H412.857V627.784H342.969V500.104C342.969 481.586 338.638 468.147 329.977 459.784C321.614 451.123 308.174 446.792 289.657 446.792H231.865ZM35.3682 488.008C44.9254 488.008 49.7041 492.936 49.7041 502.792V627.784H0.400391C0.001313 592.602 0 554.141 0 512C0 503.867 6.03083e-05 495.87 0.00292969 488.008H35.3682ZM0.0634766 446.792C0.0228747 460.106 0.00810066 473.839 0.00292969 488.008H-0.0244141V446.792H0.0634766ZM314.745 343.304C304.292 343.304 295.481 346.59 288.313 353.16C281.444 359.731 278.009 367.944 278.009 377.8C278.009 387.656 281.444 396.018 288.313 402.888C295.481 409.458 304.292 412.744 314.745 412.744C325.497 412.744 334.307 409.458 341.177 402.888C348.345 396.018 351.929 387.656 351.929 377.8C351.929 367.944 348.345 359.731 341.177 353.16C334.307 346.59 325.497 343.304 314.745 343.304Z" fill="#F20C32"/>
										<path d="M-4.50391 669V627.784H49.7041V502.792C49.7041 492.936 44.9254 488.008 35.3681 488.008H-0.0239072V446.792H53.2881C65.5334 446.792 75.5388 450.376 83.3041 457.544C91.0694 464.414 94.9521 474.12 94.9521 486.664V492.04H97.1921C100.477 475.315 107.496 462.771 118.248 454.408C129.299 445.747 145.277 441.416 166.184 441.416H200.68V491.592H152.296C134.675 491.592 121.085 497.715 111.528 509.96C101.971 522.206 97.1921 536.84 97.1921 553.864V627.784H166.184V669H-4.50391Z" fill="#fff"/>
										<path d="M314.745 412.744C304.292 412.744 295.481 409.459 288.313 402.888C281.444 396.019 278.009 387.656 278.009 377.8C278.009 367.944 281.444 359.731 288.313 353.16C295.481 346.59 304.292 343.304 314.745 343.304C325.497 343.304 334.308 346.59 341.177 353.16C348.345 359.731 351.929 367.944 351.929 377.8C351.929 387.656 348.345 396.019 341.177 402.888C334.308 409.459 325.497 412.744 314.745 412.744ZM225.593 669V627.784H295.481V502.792C295.481 492.936 290.702 488.008 281.145 488.008H231.865V446.792H289.657C308.174 446.792 321.614 451.123 329.977 459.784C338.638 468.147 342.969 481.587 342.969 500.104V627.784H412.857V669H225.593Z" fill="#fff"/>
										<path d="M546.186 674.376C525.578 674.376 507.061 669.598 490.634 660.04C474.506 650.483 461.813 637.043 452.554 619.72C443.295 602.099 438.666 581.491 438.666 557.896C438.666 534.302 443.295 513.843 452.554 496.52C462.111 479.198 474.954 465.758 491.082 456.2C507.21 446.344 525.578 441.416 546.186 441.416C574.559 441.416 597.407 448.584 614.73 462.92C632.351 476.958 643.551 496.371 648.33 521.16H598.602C595.615 510.408 589.493 501.896 580.234 495.624C571.274 489.352 559.775 486.216 545.738 486.216C535.583 486.216 525.877 488.904 516.618 494.28C507.658 499.656 500.341 507.72 494.666 518.472C489.29 528.926 486.602 542.067 486.602 557.896C486.602 573.427 489.29 586.568 494.666 597.32C500.341 608.072 507.658 616.286 516.618 621.96C525.877 627.336 535.583 630.024 545.738 630.024C560.074 630.024 571.573 626.888 580.234 620.616C588.895 614.344 595.018 605.683 598.602 594.632H648.33C642.357 619.123 630.709 638.536 613.386 652.872C596.063 667.208 573.663 674.376 546.186 674.376Z" fill="#fff"/>
										<path d="M768.667 674.376C739.398 674.376 716.102 667.507 698.779 653.768C681.456 640.03 671.6 621.811 669.211 599.112H718.043C719.835 609.566 725.062 618.078 733.723 624.648C742.683 631.219 754.48 634.504 769.115 634.504C783.152 634.504 793.904 631.667 801.371 625.992C809.136 620.019 813.019 613.15 813.019 605.384C813.019 594.035 808.39 586.27 799.131 582.088C790.171 577.907 776.88 574.771 759.259 572.68C744.027 570.888 730.139 567.454 717.595 562.376C705.35 557 695.643 549.832 688.475 540.872C681.307 531.614 677.723 520.115 677.723 506.376C677.723 486.963 685.339 471.283 700.571 459.336C715.803 447.39 737.008 441.416 764.187 441.416C791.366 441.416 812.422 447.539 827.355 459.784C842.288 472.03 850.95 488.755 853.339 509.96H807.643C806.448 501 801.819 493.982 793.755 488.904C785.691 483.528 775.686 480.84 763.739 480.84C751.494 480.84 741.787 483.23 734.619 488.008C727.451 492.488 723.867 498.462 723.867 505.928C723.867 522.056 741.19 531.912 775.835 535.496C792.262 537.288 806.896 540.424 819.739 544.904C832.582 549.086 842.736 555.806 850.203 565.064C857.67 574.024 861.403 586.718 861.403 603.144C861.702 616.584 857.819 628.68 849.755 639.432C841.99 650.184 831.088 658.696 817.051 664.968C803.312 671.24 787.184 674.376 768.667 674.376Z" fill="#fff"/>
									</g>
									<defs>
										<clipPath id="rics-clip">
											<rect width="1024" height="1024" fill="none"/>
										</clipPath>
									</defs>
								</svg>
							</a>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- URL Install Modal -->
		<div id="url-modal-overlay" class="modal-overlay">
			<div class="modal">
				<div class="modal-header">
					<h3 class="modal-title">Install from URL</h3>
					<button id="url-modal-close" class="modal-close-btn" aria-label="Close">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
							<path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
						</svg>
					</button>
				</div>
				<div class="modal-body">
					<p class="modal-message">Enter a GitHub repository URL to install a theme directly:</p>
					<input type="text" id="url-modal-input" class="modal-input" placeholder="github.com/user/repo or github.com/user/repo/tree/branch" />
					<p id="url-modal-error"></p>
				</div>
				<div class="modal-footer">
					<button id="url-modal-cancel" class="modal-btn modal-btn-secondary">Cancel</button>
					<button id="url-modal-install" class="modal-btn modal-btn-primary">Install</button>
				</div>
			</div>
		</div>

		<!-- URL Permission Modal -->
		<div id="url-permission-modal-overlay" class="modal-overlay">
			<div class="modal url-permission-modal">
				<div class="modal-header">
					<div class="url-permission-header-left">
						<svg class="url-permission-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
							<path fill-rule="evenodd" d="M12 1.5a5.25 5.25 0 0 0-5.25 5.25v3a3 3 0 0 0-3 3v6.75a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3v-6.75a3 3 0 0 0-3-3v-3c0-2.9-2.35-5.25-5.25-5.25Zm3.75 8.25v-3a3.75 3.75 0 1 0-7.5 0v3h7.5Z" clip-rule="evenodd" />
						</svg>
						<h3 class="modal-title">Additional Permission Required</h3>
					</div>
					<button id="url-permission-modal-close" class="modal-close-btn" aria-label="Close">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
							<path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
						</svg>
					</button>
				</div>
				<div class="modal-body">
					<p class="url-permission-title">Why is this needed?</p>
					<p class="url-permission-description">Installing themes from custom GitHub URLs requires broader access than the marketplace. This allows Better Lyrics to:</p>
					<ul class="url-permission-list">
						<li>Fetch theme files from any GitHub repository</li>
						<li>Detect the default branch of the repository</li>
						<li>Validate the theme structure before installation</li>
					</ul>
					<p class="url-permission-note">This permission is only used when you install themes via URL. Marketplace themes don't require this.</p>
				</div>
				<div class="modal-footer">
					<button id="url-permission-modal-cancel" class="modal-btn modal-btn-secondary">Cancel</button>
					<button id="url-permission-modal-grant" class="modal-btn modal-btn-primary">Grant Permission</button>
				</div>
			</div>
		</div>

		<!-- Keyboard Shortcuts Modal -->
		<div id="shortcuts-modal-overlay" class="modal-overlay">
			<div class="modal shortcuts-modal">
				<div class="modal-header">
					<h3 class="modal-title">Keyboard Shortcuts</h3>
					<button id="shortcuts-modal-close" class="modal-close-btn" aria-label="Close">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
							<path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
						</svg>
					</button>
				</div>
				<div class="modal-body">
					<div class="shortcuts-list">
						<div class="shortcuts-group">
							<div class="shortcuts-group-title">Navigation</div>
							<div class="shortcut-item">
								<span class="shortcut-label">Search themes</span>
								<div class="shortcut-keys">
									<kbd>/</kbd>
								</div>
							</div>
							<div class="shortcut-item">
								<span class="shortcut-label">Refresh marketplace</span>
								<div class="shortcut-keys">
									<kbd>R</kbd>
								</div>
							</div>
							<div class="shortcut-item">
								<span class="shortcut-label">Install from URL</span>
								<div class="shortcut-keys">
									<kbd>U</kbd>
								</div>
							</div>
							<div class="shortcut-item">
								<span class="shortcut-label">Previous page</span>
								<div class="shortcut-keys">
									<kbd>[</kbd>
								</div>
							</div>
							<div class="shortcut-item">
								<span class="shortcut-label">Next page</span>
								<div class="shortcut-keys">
									<kbd>]</kbd>
								</div>
							</div>
						</div>
						<div class="shortcuts-group">
							<div class="shortcuts-group-title">Sort <span class="shortcuts-group-hint">(press again to toggle direction)</span></div>
							<div class="shortcut-item">
								<span class="shortcut-label">By rating</span>
								<div class="shortcut-keys">
									<kbd>1</kbd>
								</div>
							</div>
							<div class="shortcut-item">
								<span class="shortcut-label">By downloads</span>
								<div class="shortcut-keys">
									<kbd>2</kbd>
								</div>
							</div>
							<div class="shortcut-item">
								<span class="shortcut-label">By date</span>
								<div class="shortcut-keys">
									<kbd>3</kbd>
								</div>
							</div>
						</div>
						<div class="shortcuts-group">
							<div class="shortcuts-group-title">Filters</div>
							<div class="shortcut-item">
								<span class="shortcut-label">Show all</span>
								<div class="shortcut-keys">
									<kbd>A</kbd>
								</div>
							</div>
							<div class="shortcut-item">
								<span class="shortcut-label">Show installed</span>
								<div class="shortcut-keys">
									<kbd>I</kbd>
								</div>
							</div>
							<div class="shortcut-item">
								<span class="shortcut-label">Show not installed</span>
								<div class="shortcut-keys">
									<kbd>N</kbd>
								</div>
							</div>
							<div class="shortcut-item">
								<span class="shortcut-label">Toggle shaders</span>
								<div class="shortcut-keys">
									<kbd>S</kbd>
								</div>
							</div>
							<div class="shortcut-item">
								<span class="shortcut-label">Toggle compatible</span>
								<div class="shortcut-keys">
									<kbd>C</kbd>
								</div>
							</div>
						</div>
						<div class="shortcuts-group">
							<div class="shortcuts-group-title">Theme Details</div>
							<div class="shortcut-item">
								<span class="shortcut-label">Install / Remove</span>
								<div class="shortcut-keys">
									<kbd>I</kbd>
								</div>
							</div>
							<div class="shortcut-item">
								<span class="shortcut-label">Previous image</span>
								<div class="shortcut-keys">
									<kbd class="kbd-icon">
										<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
											<path fill-rule="evenodd" d="M11.78 5.22a.75.75 0 0 1 0 1.06L8.06 10l3.72 3.72a.75.75 0 1 1-1.06 1.06l-4.25-4.25a.75.75 0 0 1 0-1.06l4.25-4.25a.75.75 0 0 1 1.06 0Z" clip-rule="evenodd" />
										</svg>
									</kbd>
								</div>
							</div>
							<div class="shortcut-item">
								<span class="shortcut-label">Next image</span>
								<div class="shortcut-keys">
									<kbd class="kbd-icon">
										<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
											<path fill-rule="evenodd" d="M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd" />
										</svg>
									</kbd>
								</div>
							</div>
						</div>
						<div class="shortcuts-group">
							<div class="shortcuts-group-title">General</div>
							<div class="shortcut-item">
								<span class="shortcut-label">Close modal</span>
								<div class="shortcut-keys">
									<kbd>Esc</kbd>
								</div>
							</div>
							<div class="shortcut-item">
								<span class="shortcut-label">Show shortcuts</span>
								<div class="shortcut-keys">
									<kbd>?</kbd>
								</div>
							</div>
							<div class="shortcut-item">
								<span class="shortcut-label">Apply theme (after install)</span>
								<div class="shortcut-keys">
									<kbd>Enter</kbd>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Toast -->
		<div id="status-css" class="toast"></div>

		<!-- Alert Modal -->
		<div id="modal-overlay" class="modal-overlay">
			<div id="modal" class="modal">
				<div class="modal-header">
					<h3 id="modal-title" class="modal-title"></h3>
					<button id="modal-close" class="modal-close-btn" aria-label="Close">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
							<path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
						</svg>
					</button>
				</div>
				<div class="modal-body">
					<p id="modal-message" class="modal-message"></p>
					<input type="text" id="modal-input" class="modal-input" placeholder="Enter value" style="display: none" />
				</div>
				<div class="modal-footer">
					<button id="modal-cancel" class="modal-btn modal-btn-secondary">Cancel</button>
					<button id="modal-confirm" class="modal-btn modal-btn-primary">Confirm</button>
				</div>
			</div>
		</div>
	</body>
	<script type="module" defer src="../src/options/marketplace.ts"></script>
</html>
